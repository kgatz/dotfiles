# Created by newuser for 6.8
source ~/.profile

alias ll='ls -al'

alias kup=~/git/kup.sh

alias k=kubectl
alias tf=terraform


alias kcc="kubie ctx"
alias kns="kubie ns"


#alias drun
alias drun='docker run --rm -it -v $PWD:/work -w /work'

source <(kubectl completion zsh)
source <(helm completion zsh)

eval "$(starship init zsh)"
source ~/git/zsh-autocomplete/zsh-autocomplete.plugin.zsh

# TF CUstom.tf
export TF_CLI_ARGS_plan="-var-file custom.tfvars"   
export TF_CLI_ARGS_destroy="-var-file custom.tfvars"
export TF_CLI_ARGS_apply="-var-file custom.tfvars"

autoload -U +X bashcompinit && bashcompinit

# gCloud SDK
export PATH="/home/kgatzweiler/google-cloud-sdk/bin:$HOMEBREW_PREFIX/bin:$HOMEBREW_PREFIX/sbin:$PATH"
source /home/kgatzweiler/google-cloud-sdk/completion.zsh.inc

# Terraform
complete -o nospace -C /home/linuxbrew/.linuxbrew/Cellar/terraform/1.1.9/bin/terraform terraform


function cslogs
{
    local pod=$1
    kubectl exec $pod -- tar cvfz /opt/opentext/logs.tgz /opt/opentext/cs/logs 
    kubectl cp $pod:/opt/opentext/logs.tgz logs.tgz 
    kubectl exec $pod -- rm /opt/opentext/logs.tgz
}
